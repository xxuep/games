<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>YouTube to MP4 Converter</title>
<style>
  body { font-family: Arial; max-width: 600px; margin: 2rem auto; }
  input, button { width: 100%; padding: 0.6rem; margin: 0.5rem 0; font-size: 1rem; }
  #status { white-space: pre-line; margin-top: 1rem; }
</style>
</head>
<body>
<h1>YouTube to MP4 Converter</h1>
<input id="youtubeUrl" type="url" placeholder="Enter YouTube video URL" />
<button id="convertBtn">Start Conversion</button>
<p id="status"></p>

<script>
  const convertBtn = document.getElementById('convertBtn');
  const youtubeUrlInput = document.getElementById('youtubeUrl');
  const statusEl = document.getElementById('status');

  const API_ENDPOINT = "https://your-deployed-api-url/convert"; // Replace with your deployed API URL

  convertBtn.addEventListener('click', async () => {
    const url = youtubeUrlInput.value.trim();
    if (!url) {
      statusEl.textContent = 'Enter a valid YouTube URL!';
      return;
    }

    convertBtn.disabled = true;
    statusEl.textContent = 'Starting conversion... This may take a few moments.';

    try {
      const resp = await fetch(API_ENDPOINT, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ youtubeUrl: url })
      });
      if (!resp.ok) {
        const errData = await resp.json();
        throw new Error(errData.error || 'Conversion failed');
      }
      const data = await resp.json();
      statusEl.innerHTML = `Conversion complete! <a href="${data.downloadUrl}" target="_blank" download>Download MP4</a>`;
    } catch (e) {
      statusEl.textContent = 'Error: ' + e.message;
    } finally {
      convertBtn.disabled = false;
    }
  });
</script>
</body>
</html>
